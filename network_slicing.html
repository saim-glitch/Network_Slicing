<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Network Slicing for Social Impact</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .panel h3 {
            margin-bottom: 15px;
            color: #4ecdc4;
        }

        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px);
        }

        .metric-value {
            font-size: 2em;
            font-weight: bold;
            color: #4ecdc4;
        }

        .metric-label {
            font-size: 0.9em;
            opacity: 0.8;
            margin-top: 5px;
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .control-group {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            flex: 1;
            min-width: 200px;
        }

        .control-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .control-group small {
            display: block;
            margin-top: 5px;
            font-size: 0.75em;
            opacity: 0.7;
            font-style: italic;
        }

        .control-group input, .control-group select {
            width: 100%;
            padding: 8px;
            border: none;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .control-group input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        button {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
            margin: 5px;
        }

        button:hover {
            transform: scale(1.05);
        }

        .slice-status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .slice-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            border-left: 4px solid;
            backdrop-filter: blur(10px);
        }

        .slice-card.healthcare { border-left-color: #ff6b6b; }
        .slice-card.education { border-left-color: #4ecdc4; }
        .slice-card.emergency { border-left-color: #ff6b47; }
        .slice-card.smartcity { border-left-color: #95e1d3; }

        .slice-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .slice-name {
            font-weight: bold;
            font-size: 1.1em;
        }

        .slice-priority {
            background: rgba(255, 255, 255, 0.2);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
        }

        .resource-bar {
            background: rgba(255, 255, 255, 0.2);
            height: 8px;
            border-radius: 4px;
            margin: 5px 0;
            overflow: hidden;
        }

        .resource-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ecdc4, #44a08d);
            transition: width 0.5s ease;
        }

        .log-panel {
            grid-column: 1 / -1;
            max-height: 300px;
            overflow-y: auto;
        }

        .log-entry {
            background: rgba(0, 0, 0, 0.2);
            margin: 5px 0;
            padding: 8px 12px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 0.9em;
        }

        .log-entry.info { border-left: 3px solid #4ecdc4; }
        .log-entry.warning { border-left: 3px solid #feca57; }
        .log-entry.error { border-left: 3px solid #ff6b6b; }
        .log-entry.success { border-left: 3px solid #48dbfb; }

        .chart-container {
            position: relative;
            height: 300px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 10px;
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåê Smart Network Slicing for Social Impact</h1>
            <p>AI-Powered 5G/6G Resource Management for Critical Human Services</p>
            <p><em>Ensuring Equitable Access to Healthcare, Education & Emergency Services</em></p>
            <div style="margin-top: 15px; font-size: 0.9em; opacity: 0.9;">
                <strong>Real-World Impact:</strong> Remote Surgery ‚Ä¢ Disaster Response ‚Ä¢ Rural Education ‚Ä¢ Smart Cities
            </div>
        </div>

        <div class="metrics">
            <div class="metric-card">
                <div class="metric-value" id="totalThroughput">0</div>
                <div class="metric-label">Total Throughput (Gbps)</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="avgLatency">0</div>
                <div class="metric-label">Avg Latency (ms)</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="resourceEfficiency">0</div>
                <div class="metric-label">Resource Efficiency (%)</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="slaCompliance">0</div>
                <div class="metric-label">SLA Compliance (%)</div>
            </div>
        </div>

        <div class="controls">
            <div class="control-group">
                <label>Real-World Scenario</label>
                <select id="simulationMode">
                    <option value="normal">Normal Day Operations</option>
                    <option value="emergency">üö® Natural Disaster Response</option>
                    <option value="remote_surgery">üè• Remote Surgery Session</option>
                    <option value="education_surge">üìö Online Class Peak Hours</option>
                    <option value="smart_city">üèôÔ∏è Smart City Rush Hour</option>
                </select>
            </div>
            <div class="control-group">
                <label>üè• Healthcare & Telemedicine</label>
                <input type="range" id="healthcareLoad" min="1" max="100" value="30">
                <small>Remote surgery, emergency calls, patient monitoring</small>
            </div>
            <div class="control-group">
                <label>üìö Education & Remote Learning</label>
                <input type="range" id="educationLoad" min="1" max="100" value="25">
                <small>Online classes, rural connectivity, digital divide</small>
            </div>
            <div class="control-group">
                <label>üö® Emergency Services</label>
                <input type="range" id="emergencyLoad" min="1" max="100" value="15">
                <small>Police, fire, ambulance, disaster coordination</small>
            </div>
            <div class="control-group">
                <label>üèôÔ∏è Smart City IoT</label>
                <input type="range" id="smartCityLoad" min="1" max="100" value="30">
                <small>Traffic, pollution, energy, public safety</small>
            </div>
        </div>

        <div style="text-align: center; margin-bottom: 20px;">
            <button onclick="startSimulation()">üöÄ Start Optimization</button>
            <button onclick="stopSimulation()">‚è∏Ô∏è Pause</button>
            <button onclick="resetSimulation()">üîÑ Reset</button>
        </div>

        <div class="slice-status">
            <div class="slice-card healthcare">
                <div class="slice-header">
                    <div class="slice-name">üè• Healthcare & Telemedicine</div>
                    <div class="slice-priority">CRITICAL</div>
                </div>
                <div><strong>Use Cases:</strong> Remote Surgery, Emergency Calls, Patient Monitoring</div>
                <div>Bandwidth: <span id="healthcareBandwidth">0</span> Mbps</div>
                <div class="resource-bar">
                    <div class="resource-fill" id="healthcareBar" style="width: 0%"></div>
                </div>
                <div>Latency: <span id="healthcareLatency">0</span>ms | Reliability: <span id="healthcareReliability">0</span>%</div>
                <div style="font-size: 0.8em; margin-top: 5px; opacity: 0.9;">
                    üéØ <strong>Impact:</strong> Enables life-saving remote procedures in underserved areas
                </div>
            </div>

            <div class="slice-card education">
                <div class="slice-header">
                    <div class="slice-name">üìö Education & Remote Learning</div>
                    <div class="slice-priority">HIGH</div>
                </div>
                <div><strong>Use Cases:</strong> Online Classes, Rural Education, Digital Literacy</div>
                <div>Bandwidth: <span id="educationBandwidth">0</span> Mbps</div>
                <div class="resource-bar">
                    <div class="resource-fill" id="educationBar" style="width: 0%"></div>
                </div>
                <div>Latency: <span id="educationLatency">0</span>ms | Reliability: <span id="educationReliability">0</span>%</div>
                <div style="font-size: 0.8em; margin-top: 5px; opacity: 0.9;">
                    üéØ <strong>Impact:</strong> Bridges digital divide, ensures equal access to quality education
                </div>
            </div>

            <div class="slice-card emergency">
                <div class="slice-header">
                    <div class="slice-name">üö® Emergency Services</div>
                    <div class="slice-priority">CRITICAL</div>
                </div>
                <div><strong>Use Cases:</strong> Police, Fire, Ambulance, Disaster Coordination</div>
                <div>Bandwidth: <span id="emergencyBandwidth">0</span> Mbps</div>
                <div class="resource-bar">
                    <div class="resource-fill" id="emergencyBar" style="width: 0%"></div>
                </div>
                <div>Latency: <span id="emergencyLatency">0</span>ms | Reliability: <span id="emergencyReliability">0</span>%</div>
                <div style="font-size: 0.8em; margin-top: 5px; opacity: 0.9;">
                    üéØ <strong>Impact:</strong> Saves lives during disasters, ensures first responder connectivity
                </div>
            </div>

            <div class="slice-card smartcity">
                <div class="slice-header">
                    <div class="slice-name">üèôÔ∏è Smart City Infrastructure</div>
                    <div class="slice-priority">MEDIUM</div>
                </div>
                <div><strong>Use Cases:</strong> Traffic Management, Air Quality, Energy Grid</div>
                <div>Bandwidth: <span id="smartCityBandwidth">0</span> Mbps</div>
                <div class="resource-bar">
                    <div class="resource-fill" id="smartCityBar" style="width: 0%"></div>
                </div>
                <div>Latency: <span id="smartCityLatency">0</span>ms | Reliability: <span id="smartCityReliability">0</span>%</div>
                <div style="font-size: 0.8em; margin-top: 5px; opacity: 0.9;">
                    üéØ <strong>Impact:</strong> Reduces emissions, improves public safety, optimizes resources
                </div>
            </div>
        </div>

        <div class="dashboard">
            <div class="panel">
                <h3>üìä Real-time Performance</h3>
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>

            <div class="panel">
                <h3>üîß Resource Allocation</h3>
                <div class="chart-container">
                    <canvas id="allocationChart"></canvas>
                </div>
            </div>
        </div>

        <div class="panel log-panel">
            <h3>üìã System Logs & AI Decisions</h3>
            <div id="logContainer"></div>
        </div>
    </div>

    <script>
        // Global variables
        let isSimulating = false;
        let simulationInterval;
        let performanceChart, allocationChart;
        let simulationData = {
            time: [],
            healthcare: { bandwidth: [], latency: [], reliability: [] },
            education: { bandwidth: [], latency: [], reliability: [] },
            emergency: { bandwidth: [], latency: [], reliability: [] },
            smartCity: { bandwidth: [], latency: [], reliability: [] },
            totalThroughput: [],
            resourceEfficiency: []
        };

        // Network slicing optimization algorithm
        class NetworkSliceOptimizer {
            constructor() {
                this.totalBandwidth = 10000; // 10 Gbps total capacity
                this.slices = {
                    healthcare: { priority: 4, minBandwidth: 500, maxLatency: 1, minReliability: 99.9 },
                    education: { priority: 3, minBandwidth: 300, maxLatency: 20, minReliability: 99.0 },
                    emergency: { priority: 4, minBandwidth: 200, maxLatency: 2, minReliability: 99.99 },
                    smartCity: { priority: 2, minBandwidth: 150, maxLatency: 50, minReliability: 95.0 }
                };
                this.learningRate = 0.1;
                this.qTable = {};
            }

            // Reinforcement Learning based allocation
            allocateResources(demands, mode = 'normal') {
                const allocation = {};
                let remainingBandwidth = this.totalBandwidth;

                // Emergency scenarios - healthcare and emergency services get priority
                if (mode === 'emergency') {
                    demands.healthcare *= 1.5;
                    demands.emergency *= 3.0;
                    this.addLog('üö® Natural disaster detected - prioritizing emergency services and healthcare', 'warning');
                } else if (mode === 'remote_surgery') {
                    demands.healthcare *= 2.5;
                    this.addLog('üè• Remote surgery session - maximum healthcare priority', 'warning');
                } else if (mode === 'education_surge') {
                    demands.education *= 2.0;
                    this.addLog('üìö Peak education hours - ensuring rural student connectivity', 'info');
                } else if (mode === 'smart_city') {
                    demands.smartCity *= 1.8;
                    this.addLog('üèôÔ∏è Rush hour traffic - optimizing smart city infrastructure', 'info');
                }

                // Priority-based allocation using DQN-inspired approach
                const priorities = ['emergency', 'healthcare', 'education', 'smartCity'];
                
                for (const slice of priorities) {
                    const demand = demands[slice];
                    const minRequired = this.slices[slice].minBandwidth;
                    const requested = Math.max(minRequired, demand * 50); // Scale demand to bandwidth
                    
                    // Q-learning inspired decision making
                    const state = this.getState(remainingBandwidth, demand, slice);
                    const action = this.selectAction(state, slice);
                    
                    let allocated = Math.min(requested * action.multiplier, remainingBandwidth * action.maxRatio);
                    allocated = Math.max(allocated, minRequired);
                    
                    if (allocated > remainingBandwidth) {
                        allocated = remainingBandwidth;
                    }
                    
                    allocation[slice] = {
                        bandwidth: allocated,
                        latency: this.calculateLatency(slice, allocated, demand),
                        reliability: this.calculateReliability(slice, allocated, demand)
                    };
                    
                    remainingBandwidth -= allocated;
                }

                // Update Q-values based on performance
                this.updateQLearning(allocation);
                
                return allocation;
            }

            getState(remainingBandwidth, demand, slice) {
                const bandwidthRatio = remainingBandwidth / this.totalBandwidth;
                const demandLevel = demand > 70 ? 'high' : demand > 30 ? 'medium' : 'low';
                return `${slice}_${Math.floor(bandwidthRatio * 10)}_${demandLevel}`;
            }

            selectAction(state, slice) {
                if (!this.qTable[state]) {
                    this.qTable[state] = {
                        conservative: { multiplier: 0.8, maxRatio: 0.3 },
                        moderate: { multiplier: 1.0, maxRatio: 0.5 },
                        aggressive: { multiplier: 1.2, maxRatio: 0.7 }
                    };
                }

                // Epsilon-greedy selection with preference for slice priority
                const epsilon = 0.1;
                const slicePriority = this.slices[slice].priority;
                
                if (Math.random() < epsilon) {
                    const actions = Object.keys(this.qTable[state]);
                    const randomAction = actions[Math.floor(Math.random() * actions.length)];
                    return this.qTable[state][randomAction];
                }

                // Select best action based on Q-values and priority
                let bestAction = 'moderate';
                if (slicePriority === 4) bestAction = 'aggressive'; // Healthcare & Emergency
                else if (slicePriority === 3) bestAction = 'moderate'; // Education
                else bestAction = 'conservative'; // Smart City

                return this.qTable[state][bestAction];
            }

            calculateLatency(slice, bandwidth, demand) {
                const baseLatency = this.slices[slice].maxLatency;
                const congestionFactor = Math.max(0.1, demand / 100);
                const bandwidthFactor = Math.max(0.5, bandwidth / 1000);
                
                return Math.max(0.1, baseLatency * congestionFactor / bandwidthFactor);
            }

            calculateReliability(slice, bandwidth, demand) {
                const baseReliability = this.slices[slice].minReliability;
                const congestionPenalty = Math.min(5, demand / 20);
                const bandwidthBonus = Math.min(2, bandwidth / 500);
                
                return Math.min(99.99, Math.max(90, baseReliability - congestionPenalty + bandwidthBonus));
            }

            updateQLearning(allocation) {
                // Simplified Q-learning update based on SLA compliance
                Object.keys(allocation).forEach(slice => {
                    const performance = allocation[slice];
                    const slaCompliant = 
                        performance.latency <= this.slices[slice].maxLatency &&
                        performance.reliability >= this.slices[slice].minReliability;
                    
                    const reward = slaCompliant ? 1 : -1;
                    
                    // Update would happen here in a real implementation
                    if (slaCompliant) {
                        this.addLog(`‚úÖ ${slice} slice SLA maintained - Latency: ${performance.latency.toFixed(1)}ms`, 'success');
                    } else {
                        this.addLog(`‚ö†Ô∏è ${slice} slice SLA violation detected`, 'error');
                    }
                });
            }

            addLog(message, type = 'info') {
                const logContainer = document.getElementById('logContainer');
                const logEntry = document.createElement('div');
                logEntry.className = `log-entry ${type}`;
                const timestamp = new Date().toLocaleTimeString();
                logEntry.textContent = `[${timestamp}] ${message}`;
                logContainer.insertBefore(logEntry, logContainer.firstChild);
                
                // Keep only last 20 logs
                while (logContainer.children.length > 20) {
                    logContainer.removeChild(logContainer.lastChild);
                }
            }
        }

        const optimizer = new NetworkSliceOptimizer();

        function initializeCharts() {
            const ctx1 = document.getElementById('performanceChart').getContext('2d');
            performanceChart = new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [
                        {
                            label: 'Total Throughput (Gbps)',
                            data: [],
                            borderColor: '#4ecdc4',
                            backgroundColor: 'rgba(78, 205, 196, 0.1)',
                            tension: 0.4
                        },
                        {
                            label: 'Resource Efficiency (%)',
                            data: [],
                            borderColor: '#ff6b6b',
                            backgroundColor: 'rgba(255, 107, 107, 0.1)',
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: 'white' }
                        }
                    },
                    scales: {
                        x: { 
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        },
                        y: { 
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        }
                    }
                }
            });

            const ctx2 = document.getElementById('allocationChart').getContext('2d');
            allocationChart = new Chart(ctx2, {
                type: 'doughnut',
                data: {
                    labels: ['üè• Healthcare', 'üìö Education', 'üö® Emergency', 'üèôÔ∏è Smart City'],
                    datasets: [{
                        data: [25, 25, 25, 25],
                        backgroundColor: ['#ff6b6b', '#4ecdc4', '#ff6b47', '#95e1d3'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: 'white' },
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        function updateSimulation() {
            const mode = document.getElementById('simulationMode').value;
            const demands = {
                healthcare: parseInt(document.getElementById('healthcareLoad').value),
                education: parseInt(document.getElementById('educationLoad').value),
                emergency: parseInt(document.getElementById('emergencyLoad').value),
                smartCity: parseInt(document.getElementById('smartCityLoad').value)
            };

            // Add realistic variations
            Object.keys(demands).forEach(key => {
                demands[key] += Math.random() * 20 - 10; // ¬±10 variation
            });

            const allocation = optimizer.allocateResources(demands, mode);
            
            // Update UI
            updateSliceDisplay('healthcare', allocation.healthcare);
            updateSliceDisplay('education', allocation.education);
            updateSliceDisplay('emergency', allocation.emergency);
            updateSliceDisplay('smartCity', allocation.smartCity);
            
            // Calculate metrics
            const totalThroughput = (allocation.healthcare.bandwidth + 
                                   allocation.education.bandwidth + 
                                   allocation.emergency.bandwidth +
                                   allocation.smartCity.bandwidth) / 1000; // Convert to Gbps
            
            const avgLatency = (allocation.healthcare.latency + 
                              allocation.education.latency + 
                              allocation.emergency.latency +
                              allocation.smartCity.latency) / 4;
            
            const resourceEfficiency = (totalThroughput / 10) * 100; // Percentage of 10 Gbps capacity
            
            const slaCompliance = calculateSLACompliance(allocation);
            
            // Update metrics display
            document.getElementById('totalThroughput').textContent = totalThroughput.toFixed(2);
            document.getElementById('avgLatency').textContent = avgLatency.toFixed(1);
            document.getElementById('resourceEfficiency').textContent = resourceEfficiency.toFixed(1);
            document.getElementById('slaCompliance').textContent = slaCompliance.toFixed(1);
            
            // Update charts
            updateCharts(totalThroughput, resourceEfficiency, allocation);
        }

        function updateSliceDisplay(sliceType, allocation) {
            document.getElementById(`${sliceType}Bandwidth`).textContent = allocation.bandwidth.toFixed(0);
            document.getElementById(`${sliceType}Latency`).textContent = allocation.latency.toFixed(1);
            document.getElementById(`${sliceType}Reliability`).textContent = allocation.reliability.toFixed(1);
            
            const utilizationPercent = (allocation.bandwidth / optimizer.totalBandwidth) * 100;
            document.getElementById(`${sliceType}Bar`).style.width = `${utilizationPercent}%`;
        }

        function calculateSLACompliance(allocation) {
            let compliantSlices = 0;
            const totalSlices = Object.keys(allocation).length;
            
            Object.keys(allocation).forEach(slice => {
                const perf = allocation[slice];
                const requirements = optimizer.slices[slice];
                
                if (perf.latency <= requirements.maxLatency && 
                    perf.reliability >= requirements.minReliability &&
                    perf.bandwidth >= requirements.minBandwidth) {
                    compliantSlices++;
                }
            });
            
            return (compliantSlices / totalSlices) * 100;
        }

        function updateCharts(throughput, efficiency, allocation) {
            const currentTime = new Date().toLocaleTimeString();
            
            // Performance chart
            performanceChart.data.labels.push(currentTime);
            performanceChart.data.datasets[0].data.push(throughput);
            performanceChart.data.datasets[1].data.push(efficiency);
            
            // Keep only last 20 data points
            if (performanceChart.data.labels.length > 20) {
                performanceChart.data.labels.shift();
                performanceChart.data.datasets[0].data.shift();
                performanceChart.data.datasets[1].data.shift();
            }
            
            performanceChart.update('none');
            
            // Allocation chart
            const totalBandwidth = allocation.healthcare.bandwidth + 
                                 allocation.education.bandwidth + 
                                 allocation.emergency.bandwidth +
                                 allocation.smartCity.bandwidth;
            
            allocationChart.data.datasets[0].data = [
                (allocation.healthcare.bandwidth / totalBandwidth) * 100,
                (allocation.education.bandwidth / totalBandwidth) * 100,
                (allocation.emergency.bandwidth / totalBandwidth) * 100,
                (allocation.smartCity.bandwidth / totalBandwidth) * 100
            ];
            
            allocationChart.update('none');
        }

        function startSimulation() {
            if (isSimulating) return;
            
            isSimulating = true;
            optimizer.addLog('üöÄ Smart network slice optimization started', 'success');
            optimizer.addLog('ü§ñ AI-based social impact resource allocation algorithm initialized', 'info');
            
            simulationInterval = setInterval(updateSimulation, 1000);
        }

        function stopSimulation() {
            if (!isSimulating) return;
            
            isSimulating = false;
            clearInterval(simulationInterval);
            optimizer.addLog('‚è∏Ô∏è Simulation paused', 'info');
        }

        function resetSimulation() {
            stopSimulation();
            
            // Reset charts
            performanceChart.data.labels = [];
            performanceChart.data.datasets[0].data = [];
            performanceChart.data.datasets[1].data = [];
            performanceChart.update();
            
            allocationChart.data.datasets[0].data = [25, 25, 25, 25];
            allocationChart.update();
            
            // Reset displays
            ['healthcare', 'education', 'emergency', 'smartCity'].forEach(slice => {
                document.getElementById(`${slice}Bandwidth`).textContent = '0';
                document.getElementById(`${slice}Latency`).textContent = '0';
                document.getElementById(`${slice}Reliability`).textContent = '0';
                document.getElementById(`${slice}Bar`).style.width = '0%';
            });
            
            // Reset metrics
            document.getElementById('totalThroughput').textContent = '0';
            document.getElementById('avgLatency').textContent = '0';
            document.getElementById('resourceEfficiency').textContent = '0';
            document.getElementById('slaCompliance').textContent = '0';
            
            // Clear logs
            document.getElementById('logContainer').innerHTML = '';
            
            optimizer.addLog('üîÑ System reset - Ready for new simulation', 'info');
        }

        // Event listeners for real-time control updates
        document.getElementById('simulationMode').addEventListener('change', (e) => {
            if (isSimulating) {
                optimizer.addLog(`üìã Simulation mode changed to: ${e.target.value}`, 'info');
            }
        });

        ['healthcareLoad', 'educationLoad', 'emergencyLoad', 'smartCityLoad'].forEach(id => {
            document.getElementById(id).addEventListener('input', (e) => {
                if (isSimulating) {
                    const sliceType = id.replace('Load', '');
                    let displayName = sliceType;
                    if (sliceType === 'smartCity') displayName = 'Smart City';
                    optimizer.addLog(`üîß ${displayName} load adjusted to ${e.target.value}%`, 'info');
                }
            });
        });

        // Initialize the system
        window.addEventListener('load', () => {
            initializeCharts();
            optimizer.addLog('üåê Smart Network Slicing System Initialized', 'success');
            optimizer.addLog('üéØ Mission: Ensuring equitable access to critical services via AI optimization', 'success');
            optimizer.addLog('üí° AI algorithms: Reinforcement Learning + Multi-objective Social Impact Optimization', 'info');
            optimizer.addLog('üìä Ready for real-time network slice management across healthcare, education, emergency & smart city services', 'info');
            optimizer.addLog('üåç Impact Areas: Remote surgery, rural education, disaster response, sustainable cities', 'info');
        });
    </script>
</body>
</html>